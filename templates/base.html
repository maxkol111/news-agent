<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ü§ñ –ù–æ–≤–æ—Å—Ç–Ω–æ–π –ò–ò-–∞–≥–µ–Ω—Ç{% endblock %}</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <i class="bi bi-robot"></i> –ù–æ–≤–æ—Å—Ç–Ω–æ–π –ò–ò-–∞–≥–µ–Ω—Ç
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link {% if request.endpoint == 'index' %}active{% endif %}" href="{{ url_for('index') }}">
                            <i class="bi bi-house"></i> –ì–ª–∞–≤–Ω–∞—è
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.endpoint == 'news_page' %}active{% endif %}" href="{{ url_for('news_page') }}">
                            <i class="bi bi-newspaper"></i> –ù–æ–≤–æ—Å—Ç–∏
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.endpoint == 'analyze_page' %}active{% endif %}" href="{{ url_for('analyze_page') }}">
                            <i class="bi bi-graph-up"></i> –ê–Ω–∞–ª–∏–∑
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.endpoint == 'statistics_page' %}active{% endif %}" href="{{ url_for('statistics_page') }}">
                            <i class="bi bi-bar-chart"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.endpoint == 'search_page' %}active{% endif %}" href="{{ url_for('search_page') }}">
                            <i class="bi bi-search"></i> –ü–æ–∏—Å–∫
                        </a>
                    </li>
                </ul>
                
                <div class="navbar-text">
                    <div class="status-indicator" id="statusIndicator">
                        <i class="bi bi-circle-fill text-success"></i>
                        <span class="ms-1">–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–∞</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="notificationArea" class="position-fixed top-0 end-0 p-3" style="z-index: 1050;"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
    <main class="container mt-4">
        {% block content %}{% endblock %}
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer mt-5 py-3 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="bi bi-robot"></i> –ù–æ–≤–æ—Å—Ç–Ω–æ–π –ò–ò-–∞–≥–µ–Ω—Ç</h5>
                    <p class="text-muted">
                        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLaMA 3.1
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="text-muted">
                        <small>
                            –í–µ—Ä—Å–∏—è 2.0 | 
                            <span id="currentYear">{{ now.year if now else '2024' }}</span> | 
                            <a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#aboutModal">
                                –û –ø—Ä–æ–µ–∫—Ç–µ
                            </a>
                        </small>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–û –ø—Ä–æ–µ–∫—Ç–µ" -->
    <div class="modal fade" id="aboutModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-info-circle"></i> –û –ø—Ä–æ–µ–∫—Ç–µ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>
                        <strong>–ù–æ–≤–æ—Å—Ç–Ω–æ–π –ò–ò-–∞–≥–µ–Ω—Ç</strong> ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞, 
                        –∞–Ω–∞–ª–∏–∑–∞ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ LLaMA 3.1.
                    </p>
                    <p>
                        –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã:
                    </p>
                    <ul>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS1-–ª–µ–Ω—Ç</li>
                        <li>–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ—Ü–µ–Ω–∫–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ç–µ–π</li>
                        <li>–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–º —Å –ø–æ–º–æ—â—å—é –ò–ò</li>
                        <li>–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π</li>
                        <li>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ç—Ä–µ–Ω–¥–æ–≤</li>
                    </ul>
                    <p class="text-muted">
                        <small>
                            –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: Python, Flask, SQLite, Ollama, LLaMA 3.1
                        </small>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    {% block extra_js %}{% endblock %}
    
    <script>
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –≥–æ–¥ –≤ —Ñ—É—Ç–µ—Ä–µ
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>